{% extends "base.html" %}
{% block content %}
<h2>备注工具</h2>
<form method="post">
    <div class="form-group">
        <label>CA地址</label>
        <input type="text" name="caAddress" class="form-control" required>
    </div>
    <div class="form-group">
        <label>CA名称</label>
        <input type="text" name="caName" class="form-control" required>
    </div>
    <div class="form-group">
        <label>链ID</label>
        <input type="text" name="chainId" class="form-control" value="501">
    </div>
    <div class="form-group">
        <label>备注类型</label>
        <select name="remarkType" class="form-control">
            <option value="okx">okx备注</option>
            <option value="gmgn">gmgn备注</option>
        </select>
    </div>
    <!-- 数量设置部分更新 -->
    <div class="row mb-4">
        <div class="col-md-6">
            <label for="holderCount" class="pixel-label">Top Holders 数量</label>
            <input 
                type="number" 
                class="pixel-input" 
                id="holderCount" 
                name="holderCount" 
                min="1" 
                max="1000" 
                value="{{ request.form.get('holderCount', '100') }}"
                placeholder="获取前N个持仓地址"
            >
            <small class="pixel-help-text">范围: 1-1000，默认100</small>
        </div>
        <div class="col-md-6">
            <label for="traderCount" class="pixel-label">Top Traders 数量</label>
            <input 
                type="number" 
                class="pixel-input" 
                id="traderCount" 
                name="traderCount" 
                min="1" 
                max="1000" 
                value="{{ request.form.get('traderCount', '100') }}"
                placeholder="获取前N个交易者"
            >
            <small class="pixel-help-text">范围: 1-1000，默认100</small>
        </div>
    </div>
    <button type="submit" class="btn btn-primary">查询</button>
</form>
{% if result_json_str %}
    <h4 class="mt-4">结果：</h4>
    <div style="margin-bottom: 1em;">
        <pre id="json-result" style="max-height:400px;overflow:auto; background:#f8f9fa; border-radius:6px; padding:2em 1em 1em 1em; margin:0;">
{{ result_json_str }}
        </pre>
    </div>
{% endif %}
{% endblock %}